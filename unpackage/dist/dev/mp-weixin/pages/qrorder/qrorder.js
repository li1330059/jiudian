(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/qrorder/qrorder"],{228:function(t,e,o){"use strict";(function(t,e){var n=o(4);o(26);n(o(25));var a=n(o(229));t.__webpack_require_UNI_MP_PLUGIN__=o,e(a.default)}).call(this,o(1)["default"],o(2)["createPage"])},229:function(t,e,o){"use strict";o.r(e);var n=o(230),a=o(232);for(var r in a)["default"].indexOf(r)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(r);o(234);var i,s=o(32),d=Object(s["default"])(a["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],i);d.options.__file="pages/qrorder/qrorder.vue",e["default"]=d.exports},230:function(t,e,o){"use strict";o.r(e);var n=o(231);o.d(e,"render",(function(){return n["render"]})),o.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]})),o.d(e,"recyclableRender",(function(){return n["recyclableRender"]})),o.d(e,"components",(function(){return n["components"]}))},231:function(t,e,o){"use strict";var n;o.r(e),o.d(e,"render",(function(){return a})),o.d(e,"staticRenderFns",(function(){return i})),o.d(e,"recyclableRender",(function(){return r})),o.d(e,"components",(function(){return n}));var a=function(){var t=this,e=t.$createElement;t._self._c},r=!1,i=[];a._withStripped=!0},232:function(t,e,o){"use strict";o.r(e);var n=o(233),a=o.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},233:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{screenHeight:0,room:[],allDate:"",startDate:"",stopDate:"",day:"",today:"",liverName:"",IdCard:"",phone:"",lxrName:"",lxrPhone:"",idd:"",beforeDate:"",afterDate:"",iddd:"",ddhao:""}},onShow:function(){console.log(t.getStorageSync("token")),""==t.getStorageSync("token")&&t.navigateTo({url:"/pages/login/login"})},onLoad:function(e){console.log("optn"),console.log(e),this.room=JSON.parse(e.room),this.allDate=e.allDate,this.startDate=e.startDate,this.stopDate=e.stopDate,this.day=e.day,this.today=e.today,this.idd=e.idd,this.beforeDate=e.beforeDate,this.afterDate=e.afterDate,console.log("room"),console.log(this.room),this.screenHeight=t.getSystemInfoSync().windowHeight},methods:{bback:function(){t.navigateBack(-1)},yud:function(){var e=this,o=/^1[3456789]\d{9}/,n=/(^\d{15})|(^\d{17}(x|X|\d))/;""!=this.liverName?""!=this.IdCard?""!=this.phone?n.test(this.IdCard)?o.test(this.phone)?o.test(this.lxrPhone)?""!=this.liverName&&""!=this.IdCard&&""!=this.phone&&o.test(this.phone)&&o.test(this.lxrPhone)&&n.test(this.IdCard)&&(console.log(this.beforeDate),console.log(this.afterDate),t.request({method:"POST",url:this.apiUrl+"index/jddd",data:JSON.stringify({user_name:t.getStorageSync("openid"),startDate:this.beforeDate,stopDate:this.afterDate,roomNum:1,liverName:this.liverName,IdCard:this.IdCard,phone:this.phone,lxrName:this.lxrName,lxrPhone:this.lxrPhone,yhqid:0,jdid:this.idd,jdfjid:this.room.id}),success:function(o){console.log("提交订单"),console.log(o.data),e.ddhao=o.data.ddhao,1==o.data.status&&(t.showToast({title:o.data.data}),t.request({method:"POST",url:e.apiUrl+"index/ddxqddh",data:JSON.stringify({ddhao:e.ddhao}),success:function(o){console.log(o),e.iddd=o.data.id,t.request({method:"POST",url:e.apiUrl+"Wx/config",data:JSON.stringify({id:e.iddd,openid:t.getStorageSync("openid"),dd:2}),success:function(e){console.log("支"),console.log(e),t.requestPayment({provider:"wxpay",timeStamp:e.data.timeStamp.toString(),nonceStr:e.data.nonce,package:e.data.package,signType:e.data.signType,paySign:e.data.sign,success:function(e){console.log("res"),console.log(e),t.showToast({icon:"success",title:"支付成功"}),console.log("支付成功",e)},fail:function(e){console.log("err"),console.log(e),this.err=e,t.showToast({icon:"error",title:"失败"}),this.err=!0}})}})}}))},fail:function(t){console.log("err"),console.log(t)}})):t.showToast({icon:"none",title:"联系人手机号码有误"}):t.showToast({icon:"none",title:"居住人手机号码有误"}):t.showToast({icon:"none",title:"身份证号码有误"}):t.showToast({icon:"none",title:"请填写居住人手机号码"}):t.showToast({icon:"none",title:"请填写居住人证件号码"}):t.showToast({icon:"none",title:"请填写居住人姓名"})}}};e.default=o}).call(this,o(2)["default"])},234:function(t,e,o){"use strict";o.r(e);var n=o(235),a=o.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},235:function(t,e,o){}},[[228,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/qrorder/qrorder.js.map