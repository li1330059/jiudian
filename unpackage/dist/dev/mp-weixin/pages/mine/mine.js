(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/mine"],{166:function(o,n,e){"use strict";(function(o,n){var t=e(4);e(26);t(e(25));var a=t(e(167));o.__webpack_require_UNI_MP_PLUGIN__=e,n(a.default)}).call(this,e(1)["default"],e(2)["createPage"])},167:function(o,n,e){"use strict";e.r(n);var t=e(168),a=e(170);for(var s in a)["default"].indexOf(s)<0&&function(o){e.d(n,o,(function(){return a[o]}))}(s);e(172);var r,i=e(32),c=Object(i["default"])(a["default"],t["render"],t["staticRenderFns"],!1,null,null,null,!1,t["components"],r);c.options.__file="pages/mine/mine.vue",n["default"]=c.exports},168:function(o,n,e){"use strict";e.r(n);var t=e(169);e.d(n,"render",(function(){return t["render"]})),e.d(n,"staticRenderFns",(function(){return t["staticRenderFns"]})),e.d(n,"recyclableRender",(function(){return t["recyclableRender"]})),e.d(n,"components",(function(){return t["components"]}))},169:function(o,n,e){"use strict";var t;e.r(n),e.d(n,"render",(function(){return a})),e.d(n,"staticRenderFns",(function(){return r})),e.d(n,"recyclableRender",(function(){return s})),e.d(n,"components",(function(){return t}));try{t={neilModal:function(){return e.e("components/neil-modal/neil-modal").then(e.bind(null,524))}}}catch(i){if(-1===i.message.indexOf("Cannot find module")||-1===i.message.indexOf(".vue"))throw i;console.error(i.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var o=this,n=o.$createElement;o._self._c},s=!1,r=[];a._withStripped=!0},170:function(o,n,e){"use strict";e.r(n);var t=e(171),a=e.n(t);for(var s in t)["default"].indexOf(s)<0&&function(o){e.d(n,o,(function(){return t[o]}))}(s);n["default"]=a.a},171:function(o,n,e){"use strict";(function(o){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=function(){e.e("components/Progress-Bar").then(function(){return resolve(e(531))}.bind(null,e)).catch(e.oe)},a=function(){e.e("components/neil-modal/neil-modal").then(function(){return resolve(e(524))}.bind(null,e)).catch(e.oe)},s={data:function(){return{username:"",bInfo:[],logoInfo:[],userInfo:[],screenHeight:0,show:!1,orderInfo:[],qd:0,xxh:"",czz:"",qian:"",arr:[]}},components:{ProgressBar:t,neilModal:a},onLoad:function(){this.screenHeight=o.getSystemInfoSync().windowHeight},onShow:function(){console.log(o.getStorageSync("token")),""==o.getStorageSync("token")&&o.navigateTo({url:"/pages/login/login"}),""!=o.getStorageSync("token")&&this.uu()},methods:{kq:function(){o.navigateTo({url:"/pages/kyy/kyy"})},uu:function(){var n=this;console.log("uu"),o.request({method:"POST",url:this.apiUrl+"index/find_user_user_name",data:JSON.stringify({user_name:o.getStorageSync("openid")}),success:function(o){console.log("tou"),console.log(o),n.userInfo=o.data,console.log(n.userInfo),n.xxh="雪花数量："+n.userInfo.xh,console.log(n.xxh),n.qd=n.userInfo.qd,n.czz=n.userInfo.czz/2500,console.log("czz"),console.log(n.czz),null!=o.data.avatar&&""!=o.data.avatar||(console.log("微信头像"),n.userInfo.avatar=n.apiUrl+"static/img/tou.png")}})},clickRight:function(){console.log("确定00000"),2==this.orderInfo.dd&&o.request({method:"POST",url:this.apiUrl+"index/jdhx",data:JSON.stringify({ddhao:this.orderInfo.ddhao}),success:function(n){console.log("ioop"),console.log(n),1==n.data.status&&o.showToast({title:n.data.data}),-1==n.data.status&&o.showToast({icon:"error",title:n.data.data})}}),1!=this.orderInfo.dd&&3!=this.orderInfo.dd||o.request({method:"POST",url:this.apiUrl+"index/pwhx",data:JSON.stringify({ddhao:this.orderInfo.ddhao}),success:function(n){console.log("票"),console.log(n),1==n.data.status&&o.showToast({title:n.data.data}),-1==n.data.status&&o.showToast({icon:"error",title:n.data.data})}}),0==this.orderInfo.dd&&o.request({method:"POST",url:this.apiUrl+"index/tchx",data:JSON.stringify({ddhao:this.orderInfo.ddhao,xm:this.orderInfo.tclxname}),success:function(n){console.log("ioop"),console.log(n),1==n.data.status&&o.showToast({title:n.data.data}),-1==n.data.status&&o.showToast({icon:"error",title:n.data.data})}})},xhh:function(){o.showModal({title:"提示",content:this.xxh,success:function(o){o.confirm?console.log("用户点击确定"):o.cancel&&console.log("用户点击取消")}})},yyh:function(){o.navigateTo({url:"/pages/yhui/yhui"})},bf:function(n){o.navigateTo({url:"/pages/bff/bff?type="+n})},onChooseAvatar:function(n){var e=this;this.userInfo.avatar=n.detail.avatarUrl,console.log(this.userInfo.avatar),o.request({method:"POST",url:this.apiUrl+"index/uptx",data:JSON.stringify({avatar:this.userInfo.avatar,user_name:o.getStorageSync("openid")}),success:function(n){o.setStorageSync("avatar",e.userInfo.avatar),console.log(n)}})},qdd:function(){var n=this;o.request({method:"POST",url:this.apiUrl+"index/qd",data:JSON.stringify({user_name:o.getStorageSync("openid")}),success:function(e){console.log(e),o.showToast({icon:"none",title:e.data.data}),n.uu()}})},scan:function(){var n=this;o.scanCode({success:function(e){console.log("条码类型："+e.scanType),console.log("条码内容："+e.result),n.qian=e.result.substring(0,4),console.log(n.qian),"pwdd"==n.qian||"sddd"==n.qian?o.request({method:"POST",url:n.apiUrl+"index/ddxqddh2",data:JSON.stringify({ddhao:e.result}),success:function(o){console.log("pwwwwww"),console.log(o),n.show=!0,console.log("扫码222"),console.log(o),n.orderInfo=o.data}}):"tcdd"==n.qian?(console.log("aaa"),console.log(n.qian),n.arr=e.result.split(","),console.log("arr"),console.log(n.arr,"asdasdasdasd"),o.request({method:"POST",url:n.apiUrl+"index/ddxqddh2",data:JSON.stringify({ddhao:n.arr[0]}),success:function(o){console.log("tcccccccccc"),console.log(o),n.show=!0,console.log("扫码222"),console.log(o),n.orderInfo=o.data,n.orderInfo.tclxname=n.arr[1]}})):o.request({method:"POST",url:n.apiUrl+"index/ddxqddh",data:JSON.stringify({ddhao:e.result}),success:function(e){console.log("酒"),console.log(e),n.userInfo.jdgl!=e.data.jdId&&(n.show=!1,o.showToast({title:"不是本店二维码"})),n.userInfo.jdgl==e.data.jdId&&(n.show=!0,console.log("扫码222"),console.log(e),n.orderInfo=e.data)}})}})},closeModal:function(){console.log("关"),this.show=!1},order:function(n){o.navigateTo({url:"/pages/myOrder/myOrder?type="+n})},bback:function(){o.switchTab({url:"/pages/index/index"})},yhhm:function(n){console.log("yhm"),this.ni=n.detail.value,this.userInfo.yhm=n.detail.value,console.log(this.userInfo.yhm),o.setStorageSync("yhm",this.userInfo.yhm),o.request({method:"POST",url:this.apiUrl+"index/upyhm",data:JSON.stringify({yhm:this.ni,user_name:o.getStorageSync("openid")}),success:function(o){console.log(o)}})},logout:function(){try{o.clearStorageSync(),o.navigateTo({url:"/pages/login/login"})}catch(n){}}}};n.default=s}).call(this,e(2)["default"])},172:function(o,n,e){"use strict";e.r(n);var t=e(173),a=e.n(t);for(var s in t)["default"].indexOf(s)<0&&function(o){e.d(n,o,(function(){return t[o]}))}(s);n["default"]=a.a},173:function(o,n,e){}},[[166,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/mine/mine.js.map