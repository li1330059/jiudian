(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tcqrorder/tcqrorder"],{236:function(t,e,n){"use strict";(function(t,e){var o=n(4);n(26);o(n(25));var i=o(n(237));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n(1)["default"],n(2)["createPage"])},237:function(t,e,n){"use strict";n.r(e);var o=n(238),i=n(240);for(var c in i)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(c);n(242);var r,s=n(32),d=Object(s["default"])(i["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],r);d.options.__file="pages/tcqrorder/tcqrorder.vue",e["default"]=d.exports},238:function(t,e,n){"use strict";n.r(e);var o=n(239);n.d(e,"render",(function(){return o["render"]})),n.d(e,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(e,"components",(function(){return o["components"]}))},239:function(t,e,n){"use strict";var o;n.r(e),n.d(e,"render",(function(){return i})),n.d(e,"staticRenderFns",(function(){return r})),n.d(e,"recyclableRender",(function(){return c})),n.d(e,"components",(function(){return o}));try{o={wTimePicker:function(){return n.e("components/w-time-picker/w-time-picker").then(n.bind(null,565))}}}catch(s){if(-1===s.message.indexOf("Cannot find module")||-1===s.message.indexOf(".vue"))throw s;console.error(s.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var t=this,e=t.$createElement;t._self._c},c=!1,r=[];i._withStripped=!0},240:function(t,e,n){"use strict";n.r(e);var o=n(241),i=n.n(o);for(var c in o)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},241:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){n.e("components/w-time-picker/w-time-picker").then(function(){return resolve(n(565))}.bind(null,n)).catch(n.oe)},i={components:{wTimePicker:o},data:function(){return{screenHeight:0,tcid:0,tclxid:0,liverName:"",IdCard:"",phone:"",lxrName:"",lxrPhone:"",idd:"",beforeDate:"",afterDate:"",tclxs:[],num:1,allPrice:"",syrq:"",tcName:"",jdid:"",tcne:"",iddd:"",ddhao:""}},onLoad:function(e){console.log("optn"),console.log(e),this.tcid=e.tcid,this.tclxid=e.tclxid,this.tcName=e.title,this.jdid=e.jdid,this.tcne=e.tcne,this.screenHeight=t.getSystemInfoSync().windowHeight},onShow:function(){var e=this;t.request({method:"POST",url:this.oldApiUrl+"index/tclxxq",data:JSON.stringify({id:this.tclxid}),success:function(t){console.log("套餐类型"),console.log(t),e.tclxs=t.data,e.getAllPrice()}})},methods:{bback:function(){t.navigateBack(-1)},onConfirm:function(t){console.log("选择时间"),console.log(t)},onCancel:function(){},rq:function(t){this.syrq=t,console.log("日期"),console.log(t)},aad:function(){this.num++,this.getAllPrice()},reduce:function(){this.num>1&&this.num--,this.getAllPrice()},getAllPrice:function(){this.allPrice=this.tclxs.dj*this.num},yud:function(){var e=this,n=/^1[3456789]\d{9}/,o=/(^\d{15})|(^\d{17}(x|X|\d))/;""!=this.liverName?""!=this.IdCard?o.test(this.IdCard)?n.test(this.lxrPhone)?""!=this.liverName&&o.test(this.IdCard)&&t.request({method:"POST",url:this.oldApiUrl+"index/tcdd",data:JSON.stringify({user_name:t.getStorageSync("openid"),syrq:this.syrq,num:this.num,tclxname:this.tclxs.title,cxr:this.liverName,tcName:this.tcName,lxrName:this.lxrName,lxrPhone:this.lxrPhone,yhqId:0,tcId:this.tcid,tclxid:this.tclxid,dd:0,jdid:this.jdid,tcne:this.tcne}),success:function(n){console.log("提交出行订单"),console.log(n.data),e.ddhao=n.data.ddhao,1==n.data.status&&t.showToast({title:n.data.data}),t.request({method:"POST",url:e.oldApiUrl+"index/ddxqddh2",data:JSON.stringify({ddhao:e.ddhao}),success:function(n){console.log("套餐"),console.log(n),e.iddd=n.data.id,t.request({method:"POST",url:e.oldApiUrl+"Wx/config",data:JSON.stringify({id:e.iddd,openid:t.getStorageSync("openid"),dd:0}),success:function(e){console.log("支"),console.log(e),t.requestPayment({provider:"wxpay",timeStamp:e.data.timeStamp.toString(),nonceStr:e.data.nonce,package:e.data.package,signType:e.data.signType,paySign:e.data.sign,success:function(e){console.log("res"),console.log(e),t.showToast({icon:"success",title:"支付成功"}),console.log("支付成功",e)},fail:function(e){console.log("err"),console.log(e),this.err=e,t.showToast({icon:"error",title:"失败"}),this.err=!0}})}})}})}}):t.showToast({icon:"none",title:"联系人手机号码有误"}):t.showToast({icon:"none",title:"出行身份证号码有误"}):t.showToast({icon:"none",title:"请填写出行人证件号码"}):t.showToast({icon:"none",title:"请填写出行人姓名"})}}};e.default=i}).call(this,n(2)["default"])},242:function(t,e,n){"use strict";n.r(e);var o=n(243),i=n.n(o);for(var c in o)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},243:function(t,e,n){}},[[236,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/tcqrorder/tcqrorder.js.map