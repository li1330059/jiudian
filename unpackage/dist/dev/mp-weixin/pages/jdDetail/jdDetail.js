(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/jdDetail/jdDetail"],{220:function(e,t,o){"use strict";(function(e,t){var n=o(4);o(26);n(o(25));var a=n(o(221));e.__webpack_require_UNI_MP_PLUGIN__=o,t(a.default)}).call(this,o(1)["default"],o(2)["createPage"])},221:function(e,t,o){"use strict";o.r(t);var n=o(222),a=o(224);for(var s in a)["default"].indexOf(s)<0&&function(e){o.d(t,e,(function(){return a[e]}))}(s);o(226);var i,r=o(32),l=Object(r["default"])(a["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],i);l.options.__file="pages/jdDetail/jdDetail.vue",t["default"]=l.exports},222:function(e,t,o){"use strict";o.r(t);var n=o(223);o.d(t,"render",(function(){return n["render"]})),o.d(t,"staticRenderFns",(function(){return n["staticRenderFns"]})),o.d(t,"recyclableRender",(function(){return n["recyclableRender"]})),o.d(t,"components",(function(){return n["components"]}))},223:function(e,t,o){"use strict";var n;o.r(t),o.d(t,"render",(function(){return a})),o.d(t,"staticRenderFns",(function(){return i})),o.d(t,"recyclableRender",(function(){return s})),o.d(t,"components",(function(){return n}));try{n={uniCalendar:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uni-calendar/components/uni-calendar/uni-calendar")]).then(o.bind(null,545))}}}catch(r){if(-1===r.message.indexOf("Cannot find module")||-1===r.message.indexOf(".vue"))throw r;console.error(r.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var a=function(){var e=this,t=e.$createElement;e._self._c},s=!1,i=[];a._withStripped=!0},224:function(e,t,o){"use strict";o.r(t);var n=o(225),a=o.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a},225:function(e,t,o){"use strict";(function(e){var n=o(4);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=n(o(11)),i=n(o(13)),r=function(){o.e("components/firstui/fui-bottom-popup/fui-bottom-popup").then(function(){return resolve(o(266))}.bind(null,o)).catch(o.oe)},l=function(){o.e("components/firstui/fui-button/fui-button").then(function(){return resolve(o(273))}.bind(null,o)).catch(o.oe)},c=function(){Promise.all([o.e("common/vendor"),o.e("components/firstui/fui-icon/fui-icon")]).then(function(){return resolve(o(280))}.bind(null,o)).catch(o.oe)},u=function(){o.e("components/serviceDialog").then(function(){return resolve(o(558))}.bind(null,o)).catch(o.oe)};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e||(e=new Date),"object"!==(0,i.default)(e)&&(e=e.replace(/-/g,"/"));var o=new Date(e);o.setDate(o.getDate()+t);var n=o.getFullYear(),a=o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,s=o.getDate()<10?"0"+o.getDate():o.getDate(),r=o.getDay();switch(r){case 0:r="星期天";break;case 1:r="星期一";break;case 2:r="星期二";break;case 3:r="星期三";break;case 4:r="星期四";break;case 5:r="星期五";break;case 6:r="星期六";break}return{fullDate:n+"-"+a+"-"+s,fuDate:a+"月"+s+"日",year:n,month:a,date:s,day:r}}var f=(a={components:{fuiBottomPopup:r,fuiButton:l,fuiIcon:c,serviceDialog:u},data:function(){return{idd:"",works:[],lbs:[],room:[],show:!1,show1:"",showCalendar:!1,info:{lunar:!0,range:!0,insert:!1,selected:[]},startDate:"",endDate:"",allDate:1,day:"",today:"",serviceFlag:!1,beforeDate:"",afterDate:"",aniMaskShow:!1,display:""}},onLoad:function(e){console.log(e),this.idd=e.id},onReady:function(){var e=this;this.$nextTick((function(){e.showCalendar=!0})),setTimeout((function(){e.info.date=d(new Date).fullDate,e.info.startDate=d(new Date).fullDate,e.info.endDate=d(new Date,30).fullDate}),2e3)}},(0,s.default)(a,"components",{serviceDialog:u}),(0,s.default)(a,"onShow",(function(){var t=this;this.startDate=d(new Date).fuDate,this.endDate=d(new Date,1).fuDate,this.day=d(new Date,1).day,this.today=d(new Date).day,this.today==d(new Date).day&&(this.today="今天",this.beforeDate=d(new Date).fullDate,console.log("今天"),console.log(this.beforeDate)),this.day==d(new Date,1).day&&(this.day="明天",this.afterDate=d(new Date,1).fullDate,console.log("明天"),console.log(this.afterDate)),console.log("info"),console.log(this.info),console.log("this.info"),console.log(this.day),e.request({method:"POST",url:this.apiUrl+"index/jdxq",data:JSON.stringify({id:this.idd}),success:function(e){console.log("酒店详情"),console.log(e),t.works=e.data,console.log(t.works)}}),this.lbb()})),(0,s.default)(a,"methods",{bback:function(){e.navigateBack(-1)},yud:function(){e.navigateTo({url:"/pages/qrorder/qrorder?startDate="+this.startDate+"&today="+this.today+"&stopDate="+this.endDate+"&day="+this.day+"&room="+JSON.stringify(this.room)+"&allDate="+this.allDate+"&idd="+this.idd+"&beforeDate="+this.beforeDate+"&afterDate="+this.afterDate}),console.log("预订")},dhh:function(){this.show=!0},closePopup:function(){this.show=!1},hu:function(){e.makePhoneCall({phoneNumber:this.works.djphone})},cpp:function(){e.setClipboardData({data:this.works.djphone,success:function(){e.showToast({title:"复制成功"})}})},closeService:function(){this.serviceFlag=!1},kcc:function(t){var o=this;this.serviceFlag=!0,e.request({method:"POST",url:this.apiUrl+"index/jdfjxq",data:JSON.stringify({id:t}),success:function(e){console.log("房间详情"),console.log(e),o.room=e.data,o.room["price"]=o.room.dj*o.allDate,o.room["arrs"]=o.room.tp.split("|"),console.log(o.room)}})},lbb:function(){var t=this;e.request({method:"POST",url:this.apiUrl+"index/jdfj",data:JSON.stringify({uid:this.idd}),success:function(e){console.log("房间列表"),console.log(e),t.lbs=e.data,console.log(t.lbs);for(var o=0;o<t.lbs.length;o++)t.lbs[o]["price"]=t.lbs[o].dj*t.allDate,t.lbs[o]["arrs"]=t.lbs[o].tp.split("|")}})},addtxl:function(){e.addPhoneContact({nickName:"昵称",lastName:"姓",firstName:"名",remark:"备注",mobilePhoneNumber:this.works.djphone,success:function(){console.log("success")},fail:function(){console.log("fail")}})},open:function(){this.display="block",this.$refs.calendar.open()},close:function(){console.log("弹窗关闭"),this.aniMaskShow=!1,console.log(this.aniMaskShow)},change:function(e){console.log("change 返回:",e),this.info.selected.length>5||this.info.selected.push({date:e.fulldate,info:"打卡"})},confirm:function(t){console.log("confirm 返回:",t);var o="",n="",a=[],s=[],i=0;switch(o=t.range.before,this.beforeDate=o,n=t.range.after,this.afterDate=n,console.log("今天明天"),console.log(this.beforeDate),console.log(this.afterDate),""!=this.beforeDate&&""!=this.afterDate||e.showToast({icon:"none",title:"请选择日期区间"}),""!=this.beforeDate&&""!=this.afterDate&&(this.display="none"),a=o.split("-"),s=n.split("-"),this.startDate=a[1]+"月"+a[2]+"日",this.endDate=s[1]+"月"+s[2]+"日",this.day=t.lunar.ncWeek,this.allDate=t.range.data.length-1,console.log(a),console.log(a.length),console.log(new Date(a)),i=new Date(a).getDay(),i){case 0:i="星期天";break;case 1:i="星期一";break;case 2:i="星期二";break;case 3:i="星期三";break;case 4:i="星期四";break;case 5:i="星期五";break;case 6:i="星期六";break}this.today=i,console.log(new Date(a).getDay()),console.log(s),this.lbb()},monthSwitch:function(e){console.log("monthSwitchs 返回:",e)}}),a);t.default=f}).call(this,o(2)["default"])},226:function(e,t,o){"use strict";o.r(t);var n=o(227),a=o.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(s);t["default"]=a.a},227:function(e,t,o){}},[[220,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/jdDetail/jdDetail.js.map