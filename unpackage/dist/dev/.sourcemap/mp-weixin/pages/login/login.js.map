{"version":3,"sources":["uni-app:///main.js","webpack:///D:/work/GitHub/jiudian/pages/login/login.vue?5801","webpack:///D:/work/GitHub/jiudian/pages/login/login.vue?9996","webpack:///D:/work/GitHub/jiudian/pages/login/login.vue?51aa","webpack:///D:/work/GitHub/jiudian/pages/login/login.vue?b6de","uni-app:///pages/login/login.vue","webpack:///D:/work/GitHub/jiudian/pages/login/login.vue?0f6a","webpack:///D:/work/GitHub/jiudian/pages/login/login.vue?b5c4"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","avatarUrl","ni","yqm","code","pc","session_key","avatar","onLoad","uni","withShareTicket","menus","console","onShow","methods","scan","success","url","fail","title","icon","duration","onChooseAvatar","login","chang","loginn","provider","that","method","getphonenum","header"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,cAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACmK;AACnK,gBAAgB,6KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,+mBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC+BtnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;IAEA;EACA;EACA;EACAC;IAGAC;MACAC;MACA;MACAC;IACA;IAEAC;IACAA;;IAEA;IACA;IACAA;IACAA;EACA;EAEAC,2BAEA;EACAC;IAEAC;MACA;MACA;MACAN;QACA;QACAO;UACA;UACA;UACA;UACAP;YACA;YACAQ;UACA;QACA;QACA;QACAC;UACAT;YACAU;YACAC;YACAC;UACA;QACA;MACA;IACA;IACAC;MACAV;MACA;IACA;IACAW;MACAd;QACAQ;MACA;IACA;IACAO;MACA;MACA;MACA;MACA;IACA;IACAC;MACAb;MACA;MAEAH;QACAiB;QACAV;UACAJ;UACAA;UACAe;UAEAlB;YACAQ;YACAW;YACA5B;cAEAI;YAEA;;YACAY;cAAA;cACAJ;cACAA;cACAe;cACAA;cACAA;cACAf;cACAA;YAEA;UACA;QAEA;MACA;IAEA;IACAiB;MAAA;MACAjB;MACAA;MACAA;MACAA;MACA;MACA;MACAA;MACAA;MACA;MACA;MACAe;MACAf;MACAA;MACA;MACA;MACAA;MACAA;MACA;MACA;QACAA;QACAH;UACAmB;UACAX;UACA;UACAjB;YACA;YACA;UAEA;UACA8B;YAAA;UAAA;UACAd;YACAJ;YACAA;YACAH;YACAA;YACAA;YACAA;cACAmB;cACAX;cACAjB;gBACA;cACA;cACAgB;gBACAJ;gBACAA;gBACA;gBACA;gBACA;gBACAA;gBAEA;kBACA;kBACAH;gBACA;kBACAA;gBACA;gBACA;gBACA;gBACA;cACA;YACA;YACA;;YAEAA;cACAU;cACAE;YACA;YACAZ;cACAQ;YACA;UAEA;QACA;MACA;QACAR;UACAmB;UACAX;UACA;UACAjB;YACA;UACA;UACA8B;YAAA;UAAA;UACAd;YACAJ;YACAA;YACAH;YACA;YACAA;YACAA;YACAA;cACAU;cACAE;YACA;YACAZ;cACAQ;YACA;UACA;QACA;MACA;MACAR;QACAiB;QACAV;UACAW;UACAf;UACAA;QAEA;QACAM;UACAT;YACAU;YACAC;UACA;QACA;MACA;;MAIA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAR;IAEA;EAGA;AACA;AAAA,2B;;;;;;;;;;;;;ACvRA;AAAA;AAAA;AAAA;AAA6oC,CAAgB,8lCAAG,EAAC,C;;;;;;;;;;;ACAjqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./login.vue?vue&type=template&id=b237504c&\"\nvar renderjs\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=b237504c&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"loogin\">\r\n\t\r\n\t\t\r\n\t\t\t<!-- <button class=\"avatar-wrapper\" open-type=\"chooseAvatar\" @chooseavatar=\"onChooseAvatar\"> -->\r\n<!-- \t\t\t  <image style=\"width: 148rpx; height: 148rpx; margin-top: 200rpx; margin-left: 40%;\"  name=\"avatar\" class=\"avatar\" :src=\"avatarUrl\"></image>\r\n\t\t\t<!-- </button> -->\r\n\t\t<!--\t <view style=\"width: 100%; color: #030303; text-align: center; margin-top: 20rpx;\">\r\n\t\t\t\t <input type=\"nickname\" placeholder=\"请授权登录账号\" v-model=\"ni\" />\r\n\t\t\t\t </view>\r\n\t\t\t<!-- <view style=\"display: flex; align-items: center; margin: 20rpx auto; width: 70%;\">\r\n\t\t\t昵称:<input style=\"margin-left: 20rpx; border: 2rpx solid #f2f2f2; padding-left: 30rpx;\" name=\"nickname\" v-model=\"nickname\" type=\"nickname\" class=\"weui-input\" placeholder=\"请输入昵称\"/>\t\t\t\t \r\n\t\t\t </view> -->\r\n\t\t\t <form>\r\n\t\t\t\r\n           <!-- #ifdef MP -->\r\n\t\t<!--\t<view class=\"wxsq\">\r\n\t\t\t\t<button style=\"text-align: right;\" open-type=\"chooseAvatar\" @chooseavatar=\"onChooseAvatar\">点击添加头像</button>\r\n\t\t\t\t<input id=\"nic\" type=\"nickname\" @change=\"chang\" placeholder-class=\"nick\" placeholder=\"填写用户名\" v-model=\"nickname\">\r\n\t\t\t</view>\t -->\t\t\r\n            <!-- #endif -->\r\n\t\t\t<view @click=\"loginn\">\r\n\t\t\t\t\r\n\t\t\t <button class=\"wxlogin\" type=\"primary\" open-type =\"getPhoneNumber\" @getphonenumber=\"getphonenum\" >手机号码一键登录</button>\t\t\t\r\n\t\t\t</view>\r\n\t\t</form>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport WXBizDataCrypt from \"../../static/js/WXBizDataCrypt.js\"\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tavatarUrl: '/static/img/ddl.jpg',\t\r\n\t\t\t\t//sjyqm:\"\",\r\n\t\t\t\tni:\"\",\r\n\t\t\t\tyqm:\"\",\r\n\t\t\t\tcode:\"\",\r\n\t\t\t\tpc:\"\",\r\n\t\t\t\tsession_key:\"\",\r\n\t\t\t\tavatar:\"https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0\"\r\n\t\t\t//\tphoneNumber\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\t\t// 注意获取参数是要在上面生成二维码的页面 我上面写的是 pages/user/user , 下面的代码也是在 pages/user/user 里面的onLoad中\r\n\t\t\tonLoad(e) {\r\n\t\t\t\t\r\n            /*#ifdef MP*/\r\n\t\t\t\tuni.showShareMenu({\r\n\t\t\t\t\t withShareTicket:true,\r\n\t\t\t\t\t//设置下方的Menus菜单，才能够让发送给朋友与分享到朋友圈两个按钮可以点击\r\n\t\t\t\t\tmenus:[\"shareAppMessage\",\"shareTimeline\"]\r\n\t\t\t\t})\r\n\t\t\t\t/*#endif*/\r\n\t\t\t\tconsole.log(\"e\")\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\t\r\n\t\t\t\t// 获取二维码带过来的参数,或者内嵌扫一扫跳转过来的参数\r\n\t\t\t\tthis.yqm = decodeURIComponent(e.scene);\r\n\t\t\t\tconsole.log(\"yqqm\")\r\n\t\t\t\tconsole.log(this.yqm)\r\n\t\t\t},\r\n\t\t\t\r\n\t\tonShow(){\r\n\r\n\t\t},\r\n\t\tmethods:{\r\n\r\n\t\t\tscan() {\r\n\t\t\t\t\tlet that = this\r\n\t\t\t\t\t//访问扫描API\r\n\t\t\t\t\tuni.scanCode({\r\n\t\t\t\t\t\t// 扫描成功\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\t// 将参数解码\r\n\t\t\t\t\t\t\tlet path=decodeURIComponent(res.path)\r\n\t\t\t\t\t\t\t// 直接进行跳转\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t// 我上面的二维码地址是 pages/user/user, 扫码后会跳转到 pages/user/user并且会携带参数在后面\r\n\t\t\t\t\t\t\t\turl: '/' + decodeURIComponent(res.path)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t// 扫码失败\r\n\t\t\t\t\t\tfail: (res) => {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"扫码失败\",\r\n\t\t\t\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\tonChooseAvatar(e){\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.avatarUrl = e.detail.avatarUrl\r\n\t\t\t},\r\n\t\t\tlogin(){\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\turl:'/pages/index/index'\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tchang(e){\r\n\t\t\t\t//console.log(\"chaa\")\r\n\t\t\t\t//console.log(e.detail.value)\r\n\t\t\t\tthis.ni=e.detail.value\r\n\t\t\t\t//e.detail.value=\"填写用户名\"\r\n\t\t\t},\r\n\t\t\tloginn(){\r\n\t\t\t\tconsole.log(\"登录\")\r\n\t\t\t\tlet that = this\r\n\t\t\t\t\t\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider:\"univerify\",\r\n\t\t\t\t\tsuccess(res){\r\n\t\t\t\t\t\tconsole.log(\"code\")\r\n\t\t\t\t\t\tconsole.log(res.code)  //获取到的code\r\n\t\t\t\t\t\tthat.code=res.code\r\n\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: that.apiUrl+\"index/RequestHttp\", \r\n\t\t\t\t\t\t\tmethod:'GET',  \r\n\t\t\t\t\t\t\tdata: {  \r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t\tcode:that.code,                                 //wx.login 登录成功后的code  \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t},  \r\n\t\t\t\t\t\t\tsuccess: (cts) => {  \t\t\t\t\t\t  // 换取成功后 暂存这些数据 留作后续操作  \r\n\t\t\t\t\t\t\t\tconsole.log(\"cts\")\r\n\t\t\t\t\t\t\t\tconsole.log(cts)\r\n\t\t\t\t\t\t\t\tthat.openId=cts.data.openid               //openid 用户唯一标识  \r\n\t\t\t\t\t\t\t\tthat.unionid=cts.data.unionid             //unionid 开放平台唯一标识   当公众号和小程序同时登录过才会有\r\n\t\t\t\t\t\t\t\tthat.session_key=cts.data.session_key     //session_key  会话密钥 \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tconsole.log(\"session_key\")\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tconsole.log(that.session_key)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\tgetphonenum(e){\r\n\t\t\t\tconsole.log(\"ee\")\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tconsole.log(\"session_key\")\r\n\t\t\t\tconsole.log(this.session_key)\r\n\t\t\t\tlet that =this\r\n\t\t\t\tconst accountInfo = uni.getAccountInfoSync(); //获取小程序appid\r\n\t\t\t\tconsole.log(\"accountInfo\")\r\n\t\t\t\tconsole.log(accountInfo)\r\n\t\t\t\t//let appid = accountInfo.miniProgram.appId\t\t\t\t\t\t\t\r\n\t\t\t\tlet appid = accountInfo.miniProgram.appId\r\n\t\t\t\tthat.pc = new WXBizDataCrypt(appid,that.session_key);\r\n\t\t\t\t\tconsole.log(\"pc\")\r\n\t\t\t\t\tconsole.log(that.pc)\r\n\t\t\t\t//\tpc.decryptData()\r\n\t\t\t\t\tlet data = that.pc.decryptData(e.detail.encryptedData,e.detail.iv);  \r\n\t\t\t\t\tconsole.log(data)       //data就是最终解密的用户信息\r\n\t\t\t\t    console.log(data.phoneNumber)\r\n\t\t\t\t\tthis.phoneNumber=data.phoneNumber\r\n\t\t\t\t\tif(that.yqm == \"undefined\"){\r\n\t\t\t\t\t\tconsole.log(\"unn\")\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\tmethod:\"POST\",\r\n\t\t\t\t\t\t\turl:that.apiUrl+\"index/regist\",\r\n\t\t\t\t\t\t//\turl:that.apiUrl+\"index/regist2\",\r\n\t\t\t\t\t\t\tdata:JSON.stringify({\r\n\t\t\t\t\t\t\t\t'user_name' : this.openId,\r\n\t\t\t\t\t\t\t\t\"phone\" : this.phoneNumber\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\theader:{'Content-Type': 'application/json; charset=utf-8'},\r\n\t\t\t\t\t\t\tsuccess:(res)=>{\r\n\t\t\t\t\t\t\t\tconsole.log(\"ssave\")\r\n\t\t\t\t\t\t\t\tconsole.log(res,1111)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('token',res.data.token)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('code',res.data.code)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"openid\",res.data.user_name)\r\n\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\t\t\t\t\turl:this.apiUrl+\"index/find_user_user_name\",\r\n\t\t\t\t\t\t\t\t\t\tdata:JSON.stringify({\r\n\t\t\t\t\t\t\t\t\t\t\t'user_name':uni.getStorageSync(\"openid\")\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"tou\")\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\t\t\t this.userInfo=res.data\r\n\t\t\t\t\t\t\t\t\t\t\t// this.zxx()\r\n\t\t\t\t\t\t\t\t\t\t\t//if(res.data.avatar==null){\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"微信头像\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(this.userInfo.avatar!=\"\" ||this.userInfo.avatar != undefined){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.avatar=this.userInfo.avatar\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"avatar\",this.avatar)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"avatar\",this.avatar)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t//\tthis.avar=uni.getStorageSync(\"avatar\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t//this.userInfo.avatar=\"https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0\"\r\n\t\t\t\t\t\t\t\t\t\t//\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\t\r\n\t\t\t\t\t\t\t\t//uni.setStorageSync(\"avatar\",this.avatar)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:\"登录成功\",\r\n\t\t\t\t\t\t\t\t\tduration:2000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\turl:\"/pages/index/index\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\tmethod:\"POST\",\r\n\t\t\t\t\t\t\turl:that.apiUrl+\"index/regist\",\r\n\t\t\t\t\t\t//\turl:that.apiUrl+\"index/regist2\",\r\n\t\t\t\t\t\t\tdata:JSON.stringify({\r\n\t\t\t\t\t\t\t\t'user_name':this.phoneNumber\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\theader:{'Content-Type': 'application/json; charset=utf-8'},\r\n\t\t\t\t\t\t\tsuccess:(res)=>{\r\n\t\t\t\t\t\t\t\tconsole.log(\"ssave\")\r\n\t\t\t\t\t\t\t\tconsole.log(res,1111)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('token',res.data.token)\r\n\t\t\t\t\t\t\t\t//uni.setStorageSync('code',res.data.code)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"openid\",this.phoneNumber)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"phone\",this.phoneNumber)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:\"登录成功\",\r\n\t\t\t\t\t\t\t\t\tduration:2000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\turl:\"/pages/index/index\"\r\n\t\t\t\t\t\t\t\t})\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\tuni.getUserInfo({\r\n\t\t\t\t\tprovider: 'weixin',\r\n\t\t\t\t\tsuccess: infoRes => {\r\n\t\t\t\t\t\tthat.userInfo=infoRes.userInfo; //用户信息，微信头像，昵称等等\r\n\t\t\t\t\t\tconsole.log(\"uuf\")\r\n\t\t\t\t\t\tconsole.log(that.userInfo)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'登录授权失败',\r\n\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\r\n\t\t\t\r\n\t\t\t\t// uni.getUserProfile({\r\n\t\t\t\t// \tdesc:\"\",\r\n\t\t\t\t// \tsuccess: (res) => {\r\n\t\t\t\t// \t\tconsole.log(\"获取信息\")\r\n\t\t\t\t// \t},\r\n\t\t\t\t// \tfail: (err) => {\r\n\t\t\t\t// \t\tconsole.log(\"错误\")\r\n\t\t\t\t// \t\tconsole.log(err)\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\t\r\n\t\t\t},\r\n\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.loogin .userInfoHeader{\r\n\twidth: 100%;\r\n\theight: 2rem;\r\n\tpadding-top: 1.5rem;\r\n\tcolor: #FFF;\r\n\tbackground-image: linear-gradient(to right, #ff5a00, #ffa651);\r\n}\r\n.loogin .wxsq{\r\n\twidth: 70%;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tfont-size: 14px;\r\n\tmargin: 650rpx auto 0;\r\n\tcolor: #616c7e;\r\n}\r\n.loogin .wxsq .nick{\r\n\tcolor: #616c7e;\r\n}\r\n.loogin .wxlogin{\r\n\twidth: 95%;\r\n\theight: 60rpx;\r\n\tline-height: 60rpx;\r\n\r\n\tfont-size: 28rpx;\r\n\tborder-radius: 5rem;\r\n\tposition: fixed;\r\n\tbottom: 3rem;\r\n\tleft: 2%;\r\n}\r\n.loogin .wxsq input{\r\n\twidth: 45%;\r\n\tcolor: #616c7e;\r\n}\r\n.loogin .wxsq button{\r\n\tbackground-color:#FFF;\r\n\t\r\n\tline-height: 46rpx;\r\n\tfont-size: 28rpx;\r\n\t&::after{\r\n\t\t\t\t\tborder:none;\r\n\t\t\t\t}\r\n\r\n}\r\n\r\n</style>","import mod from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1699876761553\n      var cssReload = require(\"D:/work/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}