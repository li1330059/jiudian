(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/jdDetail/jdDetail"],{"028e":function(e,t,o){"use strict";o.r(t);var n=o("4ec6"),a=o.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},"18a9":function(e,t,o){"use strict";(function(e,t){var n=o("4ea4");o("cdf0");n(o("66fd"));var a=n(o("c335"));e.__webpack_require_UNI_MP_PLUGIN__=o,t(a.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},"34b4":function(e,t,o){},"4ec6":function(e,t,o){"use strict";(function(e){var n=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,i=n(o("9523")),s=n(o("7037")),l=function(){o.e("components/serviceDialog").then(function(){return resolve(o("e5f2"))}.bind(null,o)).catch(o.oe)};function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e||(e=new Date),"object"!==(0,s.default)(e)&&(e=e.replace(/-/g,"/"));var o=new Date(e);o.setDate(o.getDate()+t);var n=o.getFullYear(),a=o.getMonth()+1<10?"0"+(o.getMonth()+1):o.getMonth()+1,i=o.getDate()<10?"0"+o.getDate():o.getDate(),l=o.getDay();switch(l){case 0:l="星期天";break;case 1:l="星期一";break;case 2:l="星期二";break;case 3:l="星期三";break;case 4:l="星期四";break;case 5:l="星期五";break;case 6:l="星期六";break}return{fullDate:n+"-"+a+"-"+i,fuDate:a+"月"+i+"日",year:n,month:a,date:i,day:l}}var r=(a={components:{fuiBottomPopup:function(){o.e("components/firstui/fui-bottom-popup/fui-bottom-popup").then(function(){return resolve(o("7f15"))}.bind(null,o)).catch(o.oe)},fuiButton:function(){o.e("components/firstui/fui-button/fui-button").then(function(){return resolve(o("977a"))}.bind(null,o)).catch(o.oe)},fuiIcon:function(){Promise.all([o.e("common/vendor"),o.e("components/firstui/fui-icon/fui-icon")]).then(function(){return resolve(o("7d03"))}.bind(null,o)).catch(o.oe)},serviceDialog:l},data:function(){return{idd:"",works:[],lbs:[],room:[],show:!1,show1:"",showCalendar:!1,info:{lunar:!0,range:!0,insert:!1,selected:[]},startDate:"",endDate:"",allDate:1,day:"",today:"",serviceFlag:!1,beforeDate:"",afterDate:"",aniMaskShow:!1,display:""}},onLoad:function(e){console.log(e),this.idd=e.id},onReady:function(){var e=this;this.$nextTick((function(){e.showCalendar=!0})),setTimeout((function(){e.info.date=c(new Date).fullDate,e.info.startDate=c(new Date).fullDate,e.info.endDate=c(new Date,30).fullDate}),2e3)}},(0,i.default)(a,"components",{serviceDialog:l}),(0,i.default)(a,"onShow",(function(){var t=this;this.startDate=c(new Date).fuDate,this.endDate=c(new Date,1).fuDate,this.day=c(new Date,1).day,this.today=c(new Date).day,this.today==c(new Date).day&&(this.today="今天",this.beforeDate=c(new Date).fullDate,console.log("今天"),console.log(this.beforeDate)),this.day==c(new Date,1).day&&(this.day="明天",this.afterDate=c(new Date,1).fullDate,console.log("明天"),console.log(this.afterDate)),console.log("info"),console.log(this.info),console.log("this.info"),console.log(this.day),e.request({method:"POST",url:this.apiUrl+"index.php/index/jdxq",data:JSON.stringify({id:this.idd}),success:function(e){console.log("酒店详情"),console.log(e),t.works=e.data,console.log(t.works)}}),this.lbb()})),(0,i.default)(a,"methods",{bback:function(){e.navigateBack(-1)},yud:function(){e.navigateTo({url:"/pages/qrorder/qrorder?startDate="+this.startDate+"&today="+this.today+"&stopDate="+this.endDate+"&day="+this.day+"&room="+JSON.stringify(this.room)+"&allDate="+this.allDate+"&idd="+this.idd+"&beforeDate="+this.beforeDate+"&afterDate="+this.afterDate}),console.log("预订")},dhh:function(){this.show=!0},closePopup:function(){this.show=!1},hu:function(){e.makePhoneCall({phoneNumber:this.works.djphone})},cpp:function(){e.setClipboardData({data:this.works.djphone,success:function(){e.showToast({title:"复制成功"})}})},closeService:function(){this.serviceFlag=!1},kcc:function(t){var o=this;this.serviceFlag=!0,e.request({method:"POST",url:this.apiUrl+"index.php/index/jdfjxq",data:JSON.stringify({id:t}),success:function(e){console.log("房间详情"),console.log(e),o.room=e.data,o.room["price"]=o.room.dj*o.allDate,o.room["arrs"]=o.room.tp.split("|"),console.log(o.room)}})},lbb:function(){var t=this;e.request({method:"POST",url:this.apiUrl+"index.php/index/jdfj",data:JSON.stringify({uid:this.idd}),success:function(e){console.log("房间列表"),console.log(e),t.lbs=e.data,console.log(t.lbs);for(var o=0;o<t.lbs.length;o++)t.lbs[o]["price"]=t.lbs[o].dj*t.allDate,t.lbs[o]["arrs"]=t.lbs[o].tp.split("|")}})},addtxl:function(){e.addPhoneContact({nickName:"昵称",lastName:"姓",firstName:"名",remark:"备注",mobilePhoneNumber:this.works.djphone,success:function(){console.log("success")},fail:function(){console.log("fail")}})},open:function(){this.display="block",this.$refs.calendar.open()},close:function(){console.log("弹窗关闭"),this.aniMaskShow=!1,console.log(this.aniMaskShow)},change:function(e){console.log("change 返回:",e),this.info.selected.length>5||this.info.selected.push({date:e.fulldate,info:"打卡"})},confirm:function(t){console.log("confirm 返回:",t);var o,n,a="",i="",s=0;switch(a=t.range.before,this.beforeDate=a,i=t.range.after,this.afterDate=i,console.log("今天明天"),console.log(this.beforeDate),console.log(this.afterDate),""!=this.beforeDate&&""!=this.afterDate||e.showToast({icon:"none",title:"请选择日期区间"}),""!=this.beforeDate&&""!=this.afterDate&&(this.display="none"),o=a.split("-"),n=i.split("-"),this.startDate=o[1]+"月"+o[2]+"日",this.endDate=n[1]+"月"+n[2]+"日",this.day=t.lunar.ncWeek,this.allDate=t.range.data.length-1,console.log(o),console.log(o.length),console.log(new Date(o)),s=new Date(o).getDay(),s){case 0:s="星期天";break;case 1:s="星期一";break;case 2:s="星期二";break;case 3:s="星期三";break;case 4:s="星期四";break;case 5:s="星期五";break;case 6:s="星期六";break}this.today=s,console.log(new Date(o).getDay()),console.log(n),this.lbb()},monthSwitch:function(e){console.log("monthSwitchs 返回:",e)}}),a);t.default=r}).call(this,o("543d")["default"])},"5e3d":function(e,t,o){"use strict";o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return n}));var n={uniCalendar:function(){return Promise.all([o.e("common/vendor"),o.e("uni_modules/uni-calendar/components/uni-calendar/uni-calendar")]).then(o.bind(null,"9d68"))}},a=function(){var e=this.$createElement;this._self._c},i=[]},c335:function(e,t,o){"use strict";o.r(t);var n=o("5e3d"),a=o("028e");for(var i in a)["default"].indexOf(i)<0&&function(e){o.d(t,e,(function(){return a[e]}))}(i);o("e06e");var s=o("f0c5"),l=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=l.exports},e06e:function(e,t,o){"use strict";var n=o("34b4"),a=o.n(n);a.a}},[["18a9","common/runtime","common/vendor"]]]);